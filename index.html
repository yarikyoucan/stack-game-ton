<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Stack Game</title>
  <link rel="stylesheet" href="./style.css">

</head>
<body>
<meta name="viewport" content="width=device-width,user-scalable=no">

<div id="container">
	<div id="game"></div>
	<div id="score">0</div>
	<div id="instructions">Click (or press the spacebar) to place the block</div>
	<div class="game-over">
		<h2>Game Over</h2>
		<p>You did great, you're the best.</p>
		<p>Click or spacebar to start again</p>
	</div>
	<div class="game-ready">
		<div id="start-button">Start</div>
		<div></div>
	</div>
</div>
<!-- partial -->
<script src='https://cdnjs.cloudflare.com/ajax/libs/three.js/r83/three.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenMax.min.js'></script><script  src="./script.js"></script>

</body>
</html>
<script type="module">
  // –Ü–º–ø–æ—Ä—Ç SDK Firebase
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.5.0/firebase-app.js";
  import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/11.5.0/firebase-firestore.js";

  // üîê –¢–≤–æ—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyCb770qRhKLEXD8lShWZRul-r955zTmPiM",
    authDomain: "stack-ec56d.firebaseapp.com",
    projectId: "stack-ec56d",
    storageBucket: "stack-ec56d.firebasestorage.app",
    messagingSenderId: "830456870556",
    appId: "1:830456870556:web:7271fb264453fdf577aef5",
    measurementId: "G-TZRW1MP4H1"
  };

  // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Firebase
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  // ‚ö° –§—É–Ω–∫—Ü—ñ—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ä–µ–∫–æ—Ä–¥—É
  window.saveScoreToFirebase = async function(username, score) {
    try {
      await addDoc(collection(db, "leaderboard"), {
        username: username,
        score: score,
        timestamp: Date.now()
      });
      console.log("‚úÖ –†–µ–∫–æ—Ä–¥ –∑–±–µ—Ä–µ–∂–µ–Ω–æ –¥–æ Firebase!");
    } catch (e) {
      console.error("‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—ñ:", e);
    }
  };
</script>
