<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Stack Game</title>
  <style>
    body{margin:0;font-family:Arial,sans-serif;background:#f4f4f4;display:flex;flex-direction:column;height:100vh;padding-bottom:64px}
    .page{flex:1;display:none;overflow:auto;padding:10px}.page.active{display:block}
    .menu{display:flex;justify-content:space-around;border-top:1px solid #ccc;background:#fff;padding:10px 0;position:fixed;left:0;right:0;bottom:0;z-index:9999}
    .menu button{flex:1;background:none;border:none;font-size:22px;cursor:pointer}.menu button.active{color:green;font-weight:bold}
    .task{display:flex;justify-content:space-between;align-items:center;background:#fff;padding:15px;margin:10px auto;border-radius:10px;width:90%;box-shadow:0 2px 5px rgba(0,0,0,.1)}
    .task button{background:#007bff;color:#fff;border:none;padding:8px 12px;border-radius:6px;cursor:pointer}.task button.done{background:#28a745}.task button:disabled{opacity:.6;cursor:not-allowed}
    .balance{font-size:20px;margin-bottom:20px;text-align:center}
    #container{position:relative;width:100%;height:100%;overflow:hidden;background:#d0cbc7}
    #container canvas{position:absolute!important;top:0;left:0;width:100%!important;height:100%!important;z-index:1}
    #scoreboard{position:absolute;top:10px;left:10px;display:flex;gap:10px;z-index:2}
    #score,#highscore{background:rgba(0,0,0,.5);color:#fff;padding:5px 10px;border-radius:6px}
    #instructions{position:absolute;top:50px;left:10px;color:#000;font-size:16px;background:rgba(255,255,255,.7);padding:4px 8px;border-radius:6px;z-index:2}
    .hide{display:none}
    .game-over,.ready{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;background:rgba(255,255,255,.95);padding:20px;border-radius:10px;display:none;z-index:3;min-width:260px;box-shadow:0 2px 5px rgba(0,0,0,.1)}
    #leaderboard-wrapper{width:90%;margin:12px auto;overflow-x:auto}
    #leaderboard{width:100%;border-collapse:collapse;background:#fff;border-radius:10px;overflow:hidden;box-shadow:0 2px 5px rgba(0,0,0,.1)}
    #leaderboard th,#leaderboard td{padding:10px 12px;border-bottom:1px solid #eee}
    #leaderboard thead th{background:#f7f7f7;text-align:left}
    #leaderboard tbody tr:nth-child(even){background:#fafafa}
    #leaderboard td:first-child{width:56px;text-align:right;font-weight:600;color:#555}
    #leaderboard td:last-child{text-align:right;font-variant-numeric:tabular-nums}
    .share-card{width:90%;margin:12px auto;background:#fff;border-radius:10px;box-shadow:0 2px 5px rgba(0,0,0,.1);padding:16px}
    .share-row{display:flex;gap:8px;margin-top:8px}
    .share-row input{flex:1;padding:8px 10px;border:1px solid #ddd;border-radius:8px;font-size:14px}
    .share-actions{display:flex;gap:8px;margin-top:8px;align-items:center;flex-wrap:wrap}
    .btn{background:#007bff;color:#fff;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;text-decoration:none;display:inline-block}
    .muted{color:#6c757d;font-size:12px}
    .ok{color:#198754}.err{color:#dc3545}
  </style>
</head>
<body>

  <!-- GAME -->
  <div id="game" class="page active">
    <div id="container">
      <div id="scoreboard">
        <div id="score">0</div>
        <div id="highscore">üèÜ 0</div>
      </div>
      <div id="instructions">–ö–ª—ñ–∫ –∞–±–æ –ø—Ä–æ–±—ñ–ª ‚Äî –ø–æ—Å—Ç–∞–≤–∏—Ç–∏ –±–ª–æ–∫. –ü—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è ‚Äî –∫–ª—ñ–∫–Ω–∏/–ø—Ä–æ–±—ñ–ª, —â–æ–± –∑—ñ–≥—Ä–∞—Ç–∏ —â–µ.</div>

      <div class="game-over" id="gameOver">
        <h2>–ì—Ä–∞ –∑–∞–∫—ñ–Ω—á–µ–Ω–∞</h2>
        <p>–¢–∏ –º–æ–ª–æ–¥–µ—Ü—å üëç</p>
        <p>–ö–ª—ñ–∫–Ω–∏ –∞–±–æ –Ω–∞—Ç–∏—Å–Ω–∏ –ø—Ä–æ–±—ñ–ª, —â–æ–± –ø–æ—á–∞—Ç–∏ –∑–Ω–æ–≤—É</p>
      </div>

      <div class="ready" id="ready">
        <div id="start-button" style="cursor:pointer;">‚ñ∂ –°—Ç–∞—Ä—Ç</div>
      </div>
    </div>
  </div>

  <!-- TASKS -->
  <div id="tasks" class="page">
    <h2>üìã –ó–∞–≤–¥–∞–Ω–Ω—è</h2>

    <div class="task">
      <span>–ü—ñ–¥–ø–∏—à–∏—Å—å –Ω–∞ –∫–∞–Ω–∞–ª +1‚≠ê</span>
      <button id="subscribeBtn">–ü–µ—Ä–µ–π—Ç–∏</button>
    </div>

    <div class="task" id="task50">
      <span>üéØ –î–æ—Å—è–≥–Ω–∏ —Ä–µ–∫–æ—Ä–¥—É 50 (+10‚≠ê)</span>
      <button id="checkTask50">–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏</button>
    </div>

    <div class="task" id="taskAdOncePerMinute">
      <span>üé¨ –ü–µ—Ä–µ–≥–ª—è–Ω—å —Ä–µ–∫–ª–∞–º—É +0.2‚≠ê <small>(—Ä–∞–∑ –Ω–∞ 1 —Ö–≤)</small></span>
      <button id="watchAdMinuteBtn">–î–∏–≤–∏—Ç–∏—Å—å</button>
    </div>
    <div class="task" id="taskAdStatus" style="display:none;">
      <span>‚åõ –ù–∞—Å—Ç—É–ø–Ω–∏–π –ø–µ—Ä–µ–≥–ª—è–¥ –¥–æ—Å—Ç—É–ø–Ω–∏–π —á–µ—Ä–µ–∑: <span id="adCooldownText">60—Å</span></span>
      <button disabled>–û—á—ñ–∫—É–π‚Ä¶</button>
    </div>

    <div class="task" id="taskGames100">
      <span>üéÆ –ó—ñ–≥—Ä–∞–π 100 —ñ–≥–æ—Ä (+10‚≠ê) ‚Äî –∑—ñ–≥—Ä–∞–Ω–æ: <b id="gamesPlayedCounter">0</b>/100</span>
      <button id="checkGames100Btn">–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏</button>
    </div>
  </div>

  <!-- TOURNAMENTS -->
  <div id="tournaments" class="page">
    <h2>üèÜ –õ—ñ–¥–µ—Ä–±–æ—Ä–¥ (–¢–û–ü-50)</h2>
    <div id="leaderboard-wrapper">
      <table id="leaderboard">
        <thead>
          <tr><th>‚Ññ</th><th>–ì—Ä–∞–≤–µ—Ü—å</th><th>–†–µ–∫–æ—Ä–¥</th></tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </div>

  <!-- FRIENDS -->
  <div id="friends" class="page">
    <div class="balance">–ë–∞–ª–∞–Ω—Å ‚≠ê <span id="balance">0</span></div>
    <h2>üë• –î—Ä—É–∑—ñ</h2>

    <div class="share-card">
      <div><strong>–ó–∞–ø—Ä–æ—Å–∏ –¥—Ä—É–∑—ñ–≤</strong></div>
      <p>–ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –±–æ—Ç–∞:</p>
      <p style="margin:8px 0;">
        <a href="https://t.me/Stacktongame_bot" class="btn" onclick="openBotLink(event)">
          ‚û° –í—ñ–¥–∫—Ä–∏—Ç–∏ –±–æ—Ç–∞ @Stacktongame_bot
        </a>
      </p>
      <div class="share-row">
        <input id="shareLink" type="text" readonly value="https://t.me/Stacktongame_bot"/>
        <button class="btn" id="copyShareBtn">–°–∫–æ–ø—ñ—é–≤–∞—Ç–∏</button>
      </div>
      <div class="muted">–¶–µ –æ–¥–Ω–∞ —Å–∏–ª–∫–∞ –¥–ª—è –≤—Å—ñ—Ö üëç</div>
    </div>

    <div class="share-card">
      <div><strong>–í–∏–≤—ñ–¥ –∑—ñ—Ä–æ–∫</strong></div>
      <div class="muted">–ó–∞ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è —Å–ø–∏—Å—É—î—Ç—å—Å—è —Ä—ñ–≤–Ω–æ 50‚≠ê, —Ä–µ—à—Ç–∞ –ª–∏—à–∞—î—Ç—å—Å—è. –î–∞–ª—ñ –≤—ñ–¥–∫—Ä–∏—î—Ç—å—Å—è –≥—Ä—É–ø–∞/¬´–ü–æ–¥—ñ–ª–∏—Ç–∏—Å—è¬ª –∑ –≥–æ—Ç–æ–≤–∏–º –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º —ñ –¥–≤–æ–º–∞ –∫–æ–¥–∞–º–∏.</div>
      <div class="share-actions">
        <button class="btn" id="withdrawBtn">–í–∏–≤–µ—Å—Ç–∏</button>
        <span id="withdrawStatus" class="muted"></span>
      </div>
    </div>

    <p>–°–ø–∏—Å–æ–∫ –¥—Ä—É–∑—ñ–≤ –∑–Ω–∏–∑—É üëá</p>
  </div>

  <!-- BOTTOM MENU -->
  <div class="menu">
    <button onclick="showPage('game', this)" class="active">üéÆ</button>
    <button onclick="showPage('tasks', this)">‚úèÔ∏è</button>
    <button onclick="showPage('tournaments', this)">üèÜ</button>
    <button onclick="showPage('friends', this)">üë•</button>
  </div>

  <!-- Libs -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r83/three.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenMax.min.js"></script>

  <!-- Adsgram SDK (PROD, –±–µ–∑ debug) -->
  <script src="https://sad.adsgram.ai/js/sad.min.js"></script>

  <!-- Telegram WebApp API -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <!-- App -->
  <script src="./script.js"></script>
</body>
</html>



